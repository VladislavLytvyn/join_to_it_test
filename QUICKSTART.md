# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ! –¶–µ–π –≥–∞–π–¥ –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç–∏ WebSocket —Å–µ—Ä–≤–µ—Ä –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω.

## –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (1 —Ö–≤–∏–ª–∏–Ω–∞)

```bash
# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –ø—Ä–æ–µ–∫—Ç—É
cd dev/join_to_it/test_task

# –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
python3 -m venv venv
source venv/bin/activate

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt
```

## –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (30 —Å–µ–∫—É–Ω–¥)

```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --workers 1
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000
```

## –ö—Ä–æ–∫ 3: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (3 —Ö–≤–∏–ª–∏–Ω–∏)

### –í–∞—Ä—ñ–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞: http://localhost:8000
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è"
4. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥
5. –ù–∞–¥—Å–∏–ª–∞–π—Ç–µ –≤–ª–∞—Å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç B: Python –∫–ª—ñ—î–Ω—Ç

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –Ω–æ–≤–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª:
```bash
python test_client.py
# –û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é 1 (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º)
```

### –í–∞—Ä—ñ–∞–Ω—Ç C: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ health check

```bash
curl http://localhost:8000/health
```

## –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Graceful Shutdown (1 —Ö–≤–∏–ª–∏–Ω–∞)

### –°–ø–æ—Å—ñ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç

```bash
# –£ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
./test_graceful_shutdown.sh
```

### –°–ø–æ—Å—ñ–± 2: –†—É—á–Ω–∏–π —Ç–µ—Å—Ç

1. **–¢–µ—Ä–º—ñ–Ω–∞–ª 1**: –°–µ—Ä–≤–µ—Ä –≤–∂–µ –∑–∞–ø—É—â–µ–Ω–æ
2. **–¢–µ—Ä–º—ñ–Ω–∞–ª 2**: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤
   ```bash
   python test_client.py
   # –û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é 3
   ```
3. **–¢–µ—Ä–º—ñ–Ω–∞–ª 1**: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `Ctrl+C`
4. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞–π—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ graceful shutdown

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à WebSocket —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î! –©–æ –¥–∞–ª—ñ?

- üìñ –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: [README.md](README.md)
- üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: [EXAMPLES.md](EXAMPLES.md)
- üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω: [README.md#–ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è](README.md#–ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)

## üÜò –í–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏?

### –ü–æ–º–∏–ª–∫–∞: "Address already in use"

```bash
# –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–æ—Ü–µ—Å —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ—Ä—Ç 8000
sudo lsof -i :8000
# –ê–±–æ
sudo netstat -tlnp | grep 8000

# –ó–∞–≤–µ—Ä—à—ñ—Ç—å –ø—Ä–æ—Ü–µ—Å
kill -9 <PID>
```

### –ü–æ–º–∏–ª–∫–∞: "Module not found"

```bash
# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –≤–∏ –≤ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –æ—Ç–æ—á–µ–Ω–Ω—ñ
source venv/bin/activate

# –ü–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt
```

### –ü–æ–º–∏–ª–∫–∞: "Permission denied" –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞

```bash
chmod +x test_graceful_shutdown.sh
```

## üìä –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ó–∞–ø—É—Å–∫ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º (—Ä–æ–∑—Ä–æ–±–∫–∞)
uvicorn main:app --reload

# –ó–∞–ø—É—Å–∫ –∑ debug –ª–æ–≥–∞–º–∏
uvicorn main:app --log-level debug

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∑'—î–¥–Ω–∞–Ω—å
curl -s http://localhost:8000/health | python3 -m json.tool
```

---

**–£—Å–ø—ñ—Ö—ñ–≤! üöÄ**

